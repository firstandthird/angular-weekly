/*!
 * angular-weekly - Weekly Calendar Angular directive
 * v0.0.14
 * https://github.com/jgallen23/angular-weekly/
 * copyright Greg Allen 2013
 * MIT License
*/
!function(){angular.module("weekly",[]).directive("weekly",["$parse",function(){return{restrict:"EA",require:"ngModel",scope:{model:"=ngModel",options:"&weekly",weekChangeEventFn:"&weeklyChange",addEventFn:"&weeklyAdd",removeEventFn:"&weeklyRemove",clickEventFn:"&weeklyClick",timezone:"=weeklyTimezone",splitInterval:"=weeklySplitInterval",readOnly:"=weeklyReadonly"},link:function(a,b,c){var d=!1,e=a.options();b.addClass("weekly").on("weekChange",function(b,c){a.weekChangeEventFn({data:c})}).on("addEvent",function(b,c){d||a.$apply(function(){c=c instanceof Array?c:[c];for(var b=0,d=c.length;d>b;b++){var e=c[b];a.model.push(e)}a.addEventFn({event:c})})}).on("removeEvent",function(b,c){if(!d){var e=c._index;a.$apply(function(){a.model.splice(e,1),a.removeEventFn({event:c})})}}).on("eventClick",function(b,c,d){a.$apply(function(){a.clickEventFn({event:a.model[c._index],el:d})})}).weekly(e),c.ngModel&&a.$watch("model",function(a){d=!0,b.weekly("clearEvents").weekly("addEvent",a),d=!1},!0),c.weeklyTimezone&&a.$watch("timezone",function(a){a&&b.weekly("setTimezoneOffset",a)}),c.weeklySplitInterval&&a.$watch("splitInterval",function(a){a&&b.weekly("setSplitInterval",a)}),c.weeklyReadonly&&a.$watch("readOnly",function(a){"undefined"!=typeof a&&b.weekly("setReadOnly",a)})}}}])}();